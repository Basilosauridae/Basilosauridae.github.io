<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.48">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <title>Vue2核心源码解析 | Ying's Blog🥴</title><meta name="description" content="Just playing around">
    <link rel="modulepreload" href="/assets/app.efffa192.js"><link rel="modulepreload" href="/assets/0308.html.d2ed3544.js"><link rel="modulepreload" href="/assets/0308.html.e8db28ce.js"><link rel="prefetch" href="/assets/index.html.bee2986f.js"><link rel="prefetch" href="/assets/books.html.7e3a8f50.js"><link rel="prefetch" href="/assets/introduce.html.11829989.js"><link rel="prefetch" href="/assets/mycat.html.04551040.js"><link rel="prefetch" href="/assets/noun.html.c485ddb3.js"><link rel="prefetch" href="/assets/standard.html.f914a9fc.js"><link rel="prefetch" href="/assets/thingy.html.321af9b3.js"><link rel="prefetch" href="/assets/colorful.html.f53e56d2.js"><link rel="prefetch" href="/assets/magic.html.4afdaa6c.js"><link rel="prefetch" href="/assets/reset.html.c35303fc.js"><link rel="prefetch" href="/assets/shadow.html.c83b6fa3.js"><link rel="prefetch" href="/assets/whirligig.html.99f87cef.js"><link rel="prefetch" href="/assets/advancedUsage.html.3f32a1bc.js"><link rel="prefetch" href="/assets/vue2application.html.4067f29c.js"><link rel="prefetch" href="/assets/vue2principle.html.3fdf54b3.js"><link rel="prefetch" href="/assets/Vue3new.html.0d59ecf7.js"><link rel="prefetch" href="/assets/vueRouter.html.f2be6c78.js"><link rel="prefetch" href="/assets/vueState.html.25fcc776.js"><link rel="prefetch" href="/assets/0501.html.0dc13a69.js"><link rel="prefetch" href="/assets/0708.html.545fab33.js"><link rel="prefetch" href="/assets/0708.html.ffb63ac3.js"><link rel="prefetch" href="/assets/0810.html.bcaee960.js"><link rel="prefetch" href="/assets/0910.html.3fddff83.js"><link rel="prefetch" href="/assets/0912.html.e3bd5738.js"><link rel="prefetch" href="/assets/1205.html.9fcba99c.js"><link rel="prefetch" href="/assets/0101.html.e4d91b9e.js"><link rel="prefetch" href="/assets/0106.html.3283102c.js"><link rel="prefetch" href="/assets/0228.html.6e9b9779.js"><link rel="prefetch" href="/assets/0229.html.eac818df.js"><link rel="prefetch" href="/assets/0309.html.e877b96b.js"><link rel="prefetch" href="/assets/0324.html.bbcc640c.js"><link rel="prefetch" href="/assets/404.html.d341cb57.js"><link rel="prefetch" href="/assets/index.html.8bbd2553.js"><link rel="prefetch" href="/assets/index.html.e94281b4.js"><link rel="prefetch" href="/assets/index.html.06e94a81.js"><link rel="prefetch" href="/assets/index.html.db5d0cde.js"><link rel="prefetch" href="/assets/index.html.583cba6e.js"><link rel="prefetch" href="/assets/index.html.76f5d555.js"><link rel="prefetch" href="/assets/index.html.66866bf6.js"><link rel="prefetch" href="/assets/index.html.f5245796.js"><link rel="prefetch" href="/assets/index.html.5864ec6d.js"><link rel="prefetch" href="/assets/index.html.ca6945dd.js"><link rel="prefetch" href="/assets/index.html.ac92a948.js"><link rel="prefetch" href="/assets/index.html.4425e3ac.js"><link rel="prefetch" href="/assets/index.html.234a4022.js"><link rel="prefetch" href="/assets/index.html.72ac4063.js"><link rel="prefetch" href="/assets/index.html.b57762aa.js"><link rel="prefetch" href="/assets/index.html.08b3a957.js"><link rel="prefetch" href="/assets/index.html.9cbf2d78.js"><link rel="prefetch" href="/assets/index.html.4bc70fa1.js"><link rel="prefetch" href="/assets/index.html.7d784c4d.js"><link rel="prefetch" href="/assets/books.html.daee8ae8.js"><link rel="prefetch" href="/assets/introduce.html.25db0720.js"><link rel="prefetch" href="/assets/mycat.html.39c5bc63.js"><link rel="prefetch" href="/assets/noun.html.c2457699.js"><link rel="prefetch" href="/assets/standard.html.68061d83.js"><link rel="prefetch" href="/assets/thingy.html.b9e5d844.js"><link rel="prefetch" href="/assets/colorful.html.4510ec61.js"><link rel="prefetch" href="/assets/magic.html.e7015330.js"><link rel="prefetch" href="/assets/reset.html.e06ddf85.js"><link rel="prefetch" href="/assets/shadow.html.7d08b1fe.js"><link rel="prefetch" href="/assets/whirligig.html.7d46e76d.js"><link rel="prefetch" href="/assets/advancedUsage.html.4af39ae0.js"><link rel="prefetch" href="/assets/vue2application.html.06ba556b.js"><link rel="prefetch" href="/assets/vue2principle.html.5dcfc363.js"><link rel="prefetch" href="/assets/Vue3new.html.96fe3487.js"><link rel="prefetch" href="/assets/vueRouter.html.f5e9b94c.js"><link rel="prefetch" href="/assets/vueState.html.ceda19ac.js"><link rel="prefetch" href="/assets/0501.html.4665a8a9.js"><link rel="prefetch" href="/assets/0708.html.325ed0fb.js"><link rel="prefetch" href="/assets/0708.html.4f1db4e4.js"><link rel="prefetch" href="/assets/0810.html.62030109.js"><link rel="prefetch" href="/assets/0910.html.427d45e3.js"><link rel="prefetch" href="/assets/0912.html.b86f90e5.js"><link rel="prefetch" href="/assets/1205.html.107969f2.js"><link rel="prefetch" href="/assets/0101.html.0298c54a.js"><link rel="prefetch" href="/assets/0106.html.db92ea84.js"><link rel="prefetch" href="/assets/0228.html.9c5418b1.js"><link rel="prefetch" href="/assets/0229.html.5c679dde.js"><link rel="prefetch" href="/assets/0309.html.20de44c5.js"><link rel="prefetch" href="/assets/0324.html.8eda7abc.js"><link rel="prefetch" href="/assets/404.html.643979a4.js"><link rel="prefetch" href="/assets/index.html.2a7381c8.js"><link rel="prefetch" href="/assets/index.html.c2acaba6.js"><link rel="prefetch" href="/assets/index.html.280732c7.js"><link rel="prefetch" href="/assets/index.html.adf42ef9.js"><link rel="prefetch" href="/assets/index.html.c6ce8985.js"><link rel="prefetch" href="/assets/index.html.deae2ddb.js"><link rel="prefetch" href="/assets/index.html.16ec11cf.js"><link rel="prefetch" href="/assets/index.html.6260644c.js"><link rel="prefetch" href="/assets/index.html.ce152453.js"><link rel="prefetch" href="/assets/index.html.07a8b3cb.js"><link rel="prefetch" href="/assets/index.html.64dbd008.js"><link rel="prefetch" href="/assets/index.html.ffd7cbe6.js"><link rel="prefetch" href="/assets/index.html.8640e783.js"><link rel="prefetch" href="/assets/index.html.d1fd4df8.js"><link rel="prefetch" href="/assets/index.html.ccac5e1c.js"><link rel="prefetch" href="/assets/index.html.e4dc7b64.js"><link rel="prefetch" href="/assets/index.html.7988f1f8.js"><link rel="prefetch" href="/assets/index.html.49256814.js"><link rel="prefetch" href="/assets/404.00eee688.js"><link rel="prefetch" href="/assets/Categories.4d5e9809.js"><link rel="prefetch" href="/assets/Layout.d13b978a.js"><link rel="prefetch" href="/assets/Post.2bacdc7c.js"><link rel="prefetch" href="/assets/Timeline.7fa0b4f9.js"><link rel="prefetch" href="/assets/reco-valine.88224ab5.js"><link rel="prefetch" href="/assets/bookNotes.25d7e8bd.js"><link rel="prefetch" href="/assets/colorfulCard.6b03249a.js"><link rel="prefetch" href="/assets/magicCard.6ca2887d.js"><link rel="prefetch" href="/assets/whirligig.921fc79e.js"><link rel="prefetch" href="/assets/irregularShadow.104d5c18.js"><link rel="prefetch" href="/assets/normalShadow.b56ba1aa.js">
    <link rel="stylesheet" href="/assets/style.8a2b0658.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><div class="common-wrapper no-sidebar"><div><header class="navbar-container"><span class="nav-item site-brand"><a href="/" class=""><img class="logo" src="/logo.png" alt="Ying&#39;s Blog🥴"><span class="site-name can-hide">Ying&#39;s Blog🥴</span></a></span><div class="nav-item navbar-links-wrapper" style=""><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/" class="nav-link" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Docs">Docs <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Docs"><span class="title"><span>Docs</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/docs/guide/introduce" class="nav-link" aria-label="Memories"><!--[--><!--]--> Memories <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/vue/vue2application" class="nav-link" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/tags/JS/1" class="nav-link" aria-label="JS"><!--[--><!--]--> JS <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/theme/magic" class="nav-link" aria-label="Css"><!--[--><!--]--> Css <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a href="/tags/vue/1" class="nav-link" aria-label="Tags"><!--[--><!--]--> Tags <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Contact Me">Contact Me <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Contact Me"><span class="title"><span>Contact Me</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link" href="https://www.yuque.com/lumang-40tj6" target="_blank" rel="noopener noreferrer" aria-label="语雀"><!--[--><!--]--> 语雀 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://www.zhihu.com/people/ying-zi-74-41" target="_blank" rel="noopener noreferrer" aria-label="知乎"><!--[--><!--]--> 知乎 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://github.com/Basilosauridae" target="_blank" rel="noopener noreferrer" aria-label="github"><!--[--><!--]--> github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://mail.126.com/" target="_blank" rel="noopener noreferrer" aria-label="邮箱lumang7520@126.com"><!--[--><!--]--> 邮箱lumang7520@126.com <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><a class="icon-container left btn-toggle-dark-mode" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:19px;height:19px;font-size:19px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3h.393a7.5 7.5 0 0 0 7.92 12.446A9 9 0 1 1 12 2.992z"></path><path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0-2 2a2 2 0 0 0-2-2a2 2 0 0 0 2-2"></path><path d="M19 11h2m-1-1v2"></path></g></svg><!----></a><a class="icon-container left btn-toggle-menus" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:20px;height:20px;font-size:20px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="1"></circle><circle cx="12" cy="19" r="1"></circle><circle cx="12" cy="5" r="1"></circle></g></svg><!----></a></div></header><div class="mobile-menus-container"><nav class="navbar-links"><!--[--><div class="navbar-links-item"><a href="/" class="nav-link" aria-label="Home"><!--[--><!--]--> Home <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Docs">Docs <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Docs"><span class="title"><span>Docs</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a href="/docs/guide/introduce" class="nav-link" aria-label="Memories"><!--[--><!--]--> Memories <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/vue/vue2application" class="nav-link" aria-label="Vue"><!--[--><!--]--> Vue <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/tags/JS/1" class="nav-link" aria-label="JS"><!--[--><!--]--> JS <!--[--><!--]--></a></li><li class="dropdown-item"><a href="/docs/theme/magic" class="nav-link" aria-label="Css"><!--[--><!--]--> Css <!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links-item"><a href="/tags/vue/1" class="nav-link" aria-label="Tags"><!--[--><!--]--> Tags <!--[--><!--]--></a></div><div class="navbar-links-item"><div class="dropdown-wrapper"><button class="dropdown-title" type="button" aria-label="Contact Me">Contact Me <span class="arrow down"></span></button><button class="mobile-dropdown-title" type="button" aria-label="Contact Me"><span class="title"><span>Contact Me</span></span><span class="right arrow"></span></button><ul style="display:none;" class="nav-dropdown"><!--[--><li class="dropdown-item"><a class="nav-link" href="https://www.yuque.com/lumang-40tj6" target="_blank" rel="noopener noreferrer" aria-label="语雀"><!--[--><!--]--> 语雀 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://www.zhihu.com/people/ying-zi-74-41" target="_blank" rel="noopener noreferrer" aria-label="知乎"><!--[--><!--]--> 知乎 <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://github.com/Basilosauridae" target="_blank" rel="noopener noreferrer" aria-label="github"><!--[--><!--]--> github <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-item"><a class="nav-link" href="https://mail.126.com/" target="_blank" rel="noopener noreferrer" aria-label="邮箱lumang7520@126.com"><!--[--><!--]--> 邮箱lumang7520@126.com <span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><!--]--></nav><div class="appearance"><span>Appearance </span><a class="icon-container left btn-toggle-dark-mode" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:19px;height:19px;font-size:19px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 3h.393a7.5 7.5 0 0 0 7.92 12.446A9 9 0 1 1 12 2.992z"></path><path d="M17 4a2 2 0 0 0 2 2a2 2 0 0 0-2 2a2 2 0 0 0-2-2a2 2 0 0 0 2-2"></path><path d="M19 11h2m-1-1v2"></path></g></svg><!----></a></div></div><div class="sidebar-mask"></div><aside class="series-container"><!--[--><!--]--></aside><!--[--><main class="page-container show-catalog"><h1 class="page-title">Vue2核心源码解析</h1><div class="page-info"><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="7" r="4"></circle><path d="M6 21v-2a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v2"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->影大宝🧐<!--]--></span></a><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 7v5l3 3"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->2024-03-08 08:00:00<!--]--></span></a><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><path d="M5 4h4l3 3h7a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->前端开发<!--]--></span></a><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="8.5" cy="8.5" r="1" fill="currentColor"></circle><path d="M4 7v3.859c0 .537.213 1.052.593 1.432l8.116 8.116a2.025 2.025 0 0 0 2.864 0l4.834-4.834a2.025 2.025 0 0 0 0-2.864L12.29 4.593A2.025 2.025 0 0 0 10.859 4H7a3 3 0 0 0-3 3z"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->sourceCode<!--]--></span></a><!----></div><div class="theme-reco-default-content"><div><h2 id="flow" tabindex="-1"><a class="header-anchor" href="#flow" aria-hidden="true">#</a> Flow</h2><h3 id="是什么" tabindex="-1"><a class="header-anchor" href="#是什么" aria-hidden="true">#</a> 是什么</h3><p>一种静态检查工具，工作中不会用到，类似于Typescript。<a href="https://flow.org/en/docs/getting-started/" target="_blank" rel="noopener noreferrer">Flow官网<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><h3 id="使用flow的原因" tabindex="-1"><a class="header-anchor" href="#使用flow的原因" aria-hidden="true">#</a> 使用flow的原因</h3><ul><li>Js是一个动态类型语言，灵活的背后带来的是难以寻找的bug;</li><li>类型检查时当前动态类型语言发展的趋势，帮助开发者在编译时发现由于类型错误引起的bug;</li><li>项目越复杂越需要通过工具的手段来保证项目的维护和代码的可读性。</li></ul><div class="custom-container info"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="9"></circle><path d="M12 8h.01"></path><path d="M11 12h1v4h1"></path></g></svg><p class="custom-container-title">INFO</p><p>可以看一下尤雨溪本人的解释：<a href="https://www.zhihu.com/question/46397274/answer/101193678" target="_blank" rel="noopener noreferrer">知乎<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>:</p><ol><li>Vue 2.0 本身在初期的快速迭代阶段是用 ES2015 写的，整个构建工具链也沿用了 Vue 1.x 的基于 ES 生态的一套（Babel, ESLint, Webpack, Rollup...)</li><li>Babel和ESlint都有对应的Flow插件以及支持的语法。</li></ol></div><h3 id="flow-在-vue-js-源码中的应用" tabindex="-1"><a class="header-anchor" href="#flow-在-vue-js-源码中的应用" aria-hidden="true">#</a> Flow 在 Vue.js 源码中的应用</h3><p>在Vue2的更早的版本中，<a href="https://github.com/vuejs/vue/blob/2.6/.flowconfig" target="_blank" rel="noopener noreferrer">link<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>,主目录下有<code>.flowconfig</code>文件，用于配置Flow.</p><p>Flow的<code>libdef</code>可以用于识别第三库或自定义类型。</p><h2 id="源码学习思路" tabindex="-1"><a class="header-anchor" href="#源码学习思路" aria-hidden="true">#</a> 源码学习思路</h2><ol><li>了解核心流程API，把库的API用熟（顺藤摸瓜）</li><li>整体执行流程，（lodash、underscore等工具库除外,无太多学习参考意义），如： <ul><li>webpack/vite/gulp：从启动到打包输出的流程</li><li>Vue2：Vue2从编译 =&gt; 初始化 =&gt; 触发更新 =&gt; 卸载的流程</li></ul></li><li>看package.json，看依赖和命令</li></ol><h2 id="vue的目录结构设计" tabindex="-1"><a class="header-anchor" href="#vue的目录结构设计" aria-hidden="true">#</a> Vue的目录结构设计</h2><p><a href="https://github.com/vuejs/vue" target="_blank" rel="noopener noreferrer">源码<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a><code>src下</code>:</p><table><thead><tr><th>文件夹</th><th>内容</th></tr></thead><tbody><tr><td>compiler</td><td>编译相关</td></tr><tr><td>core</td><td>核心代码</td></tr><tr><td>platforms</td><td>解决跨平台</td></tr><tr><td>server</td><td>服务端渲染</td></tr><tr><td>sfc</td><td>.vue文件解析</td></tr><tr><td>shared</td><td>共享代码</td></tr></tbody></table><h3 id="compiler" tabindex="-1"><a class="header-anchor" href="#compiler" aria-hidden="true">#</a> compiler</h3><blockquote><p>补充知识：编译可以在构建时（借助webpack、vue-loader等辅助工具插件），也可以在运行时使用包含构建功能的Vue.js。编译时一项耗性能的工作，所以推荐前者————离线编译。（本篇文章中搜索👺）</p></blockquote><p>Vue.js所有编译部分的代码。包括将模板解析成ast语法树，ast语法树优化，代码生成功能：🐰</p><ul><li><code>vue2</code>中是通过正则方式实现，<code>vue3</code>更加严谨：通过状态机制来做tokens的解析，词法语法分析（也包括部分正则）；</li><li>compiler/parser转换 =&gt; compiler/directive AST解析 =&gt; compiler/codergen 生成；</li><li>完整的编译过程：将代码转成 =&gt; AST =&gt; 目标AST =&gt; 生成代码</li></ul><h3 id="core" tabindex="-1"><a class="header-anchor" href="#core" aria-hidden="true">#</a> core</h3><a class="icon-container left" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:18px;height:18px;font-size:18px;"><path d="M12 17.75l-6.172 3.245l1.179-6.873l-5-4.867l6.9-1l3.086-6.253l3.086 6.253l6.9 1l-5 4.867l1.179 6.873z" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg><!----></a> 核心代码，Vue.js的灵魂。 <ul><li>core/observer 响应式部分，dep.ts侦听依赖内容，scheduler.ts调度</li><li>core/instance 生命周期、proxy、初始化挂载等</li><li>core/vdom 虚拟dom等</li></ul><h3 id="platforms" tabindex="-1"><a class="header-anchor" href="#platforms" aria-hidden="true">#</a> platforms</h3><p>Vue.js是跨平台的类<code>MVVM</code>框架，可以跑在 web 上，也可以配合 weex 跑在 native 客户端上。多端适配处理，非重点。</p><p><img src="https://cetacea-1304984885.cos.ap-shanghai.myqcloud.com/pieces/Snipaste_2024-03-15_18-49-48.jpg" alt=""></p><h3 id="server" tabindex="-1"><a class="header-anchor" href="#server" aria-hidden="true">#</a> server</h3><ul><li>Vue2 支持了服务端渲染，这个目录下是所有服务端渲染的逻辑；</li><li>这个文件夹下的代码 是跑在服务端的 <code>Node.js</code>，不是跑在浏览器端的vue.js;</li><li>服务端渲染的主要工作是 将组件渲染为 服务端的HTML字符串，将他们直接发送到浏览器，最后<code>静态标记</code>混合为客户端上完全交互的应用程序。</li></ul><h3 id="sfc" tabindex="-1"><a class="header-anchor" href="#sfc" aria-hidden="true">#</a> sfc</h3><p>把<code>.vue</code>文件内容解析成一个 JS 对象。</p><h3 id="shared" tabindex="-1"><a class="header-anchor" href="#shared" aria-hidden="true">#</a> shared</h3><p>定义一些工具方法，被浏览器和服务端的Vue.js共享。如生命周期hooks等。</p><h2 id="vue源码构建" tabindex="-1"><a class="header-anchor" href="#vue源码构建" aria-hidden="true">#</a> Vue源码构建</h2><h3 id="构建脚本和过程" tabindex="-1"><a class="header-anchor" href="#构建脚本和过程" aria-hidden="true">#</a> 构建脚本和过程</h3><p>Vue.js 源码是基于 <code>Rollup</code> 构建的，它的构建相关配置都在 scripts 目录下。</p><ul><li>当在命令行运行 <code>npm run build</code> 的时候，实际上就会执行 node scripts/build.js</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//package.json</span>
<span class="token string-property property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node scripts/build.js&quot;</span><span class="token punctuation">,</span>
<span class="token string-property property">&quot;build:ssr&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npm run build -- web-runtime-cjs,web-server-renderer&quot;</span><span class="token punctuation">,</span>
<span class="token string-property property">&quot;build:weex&quot;</span><span class="token operator">:</span> <span class="token string">&quot;npm run build -- weex&quot;</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>scripts/build.js</code>：先从配置文件读取配置，再通过命令行参数对构建配置做过滤，这样就可以构建出不同用途的 Vue.js 了</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">let</span> builds <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;./config&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getAllBuilds</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">// filter builds via command line arg</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> filters <span class="token operator">=</span> process<span class="token punctuation">.</span>argv<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;,&#39;</span><span class="token punctuation">)</span>
  builds <span class="token operator">=</span> builds<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">b</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> filters<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">f</span> <span class="token operator">=&gt;</span> b<span class="token punctuation">.</span>output<span class="token punctuation">.</span>file<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">||</span> b<span class="token punctuation">.</span>_name<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>f<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
  <span class="token comment">// filter out weex builds by default</span>
  builds <span class="token operator">=</span> builds<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">b</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> b<span class="token punctuation">.</span>output<span class="token punctuation">.</span>file<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">&#39;weex&#39;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token function">build</span><span class="token punctuation">(</span>builds<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>接下来我们看一下配置文件，在 <code>scripts/config.js</code> 中：</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> builds <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// Runtime only (CommonJS). Used by bundlers e.g. Webpack &amp; Browserify</span>
  <span class="token string-property property">&#39;web-runtime-cjs&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;web/entry-runtime.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">dest</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;dist/vue.runtime.common.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;cjs&#39;</span><span class="token punctuation">,</span>
    banner
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// Runtime+compiler CommonJS build (CommonJS)</span>
  <span class="token string-property property">&#39;web-full-cjs&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;web/entry-runtime-with-compiler.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">dest</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;dist/vue.common.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;cjs&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">he</span><span class="token operator">:</span> <span class="token string">&#39;./entity-decoder&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    banner
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// Runtime only (ES Modules). Used by bundlers that support ES Modules,</span>
  <span class="token comment">// e.g. Rollup &amp; Webpack 2</span>
  <span class="token string-property property">&#39;web-runtime-esm&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;web/entry-runtime.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">dest</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;dist/vue.runtime.esm.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;es&#39;</span><span class="token punctuation">,</span>
    banner
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// Runtime+compiler CommonJS build (ES Modules)</span>
  <span class="token string-property property">&#39;web-full-esm&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;web/entry-runtime-with-compiler.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">dest</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;dist/vue.esm.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;es&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">he</span><span class="token operator">:</span> <span class="token string">&#39;./entity-decoder&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    banner
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// runtime-only build (Browser)</span>
  <span class="token string-property property">&#39;web-runtime-dev&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;web/entry-runtime.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">dest</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;dist/vue.runtime.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;umd&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">,</span>
    banner
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// runtime-only production build (Browser)</span>
  <span class="token string-property property">&#39;web-runtime-prod&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;web/entry-runtime.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">dest</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;dist/vue.runtime.min.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;umd&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token string">&#39;production&#39;</span><span class="token punctuation">,</span>
    banner
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// Runtime+compiler development build (Browser)</span>
  <span class="token string-property property">&#39;web-full-dev&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;web/entry-runtime-with-compiler.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">dest</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;dist/vue.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;umd&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token string">&#39;development&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">he</span><span class="token operator">:</span> <span class="token string">&#39;./entity-decoder&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    banner
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// Runtime+compiler production build  (Browser)</span>
  <span class="token string-property property">&#39;web-full-prod&#39;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">entry</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;web/entry-runtime-with-compiler.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">dest</span><span class="token operator">:</span> <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token string">&#39;dist/vue.min.js&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;umd&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token string">&#39;production&#39;</span><span class="token punctuation">,</span>
    <span class="token literal-property property">alias</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">he</span><span class="token operator">:</span> <span class="token string">&#39;./entity-decoder&#39;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
    banner
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>
<span class="token comment">/*这里列举了一些 Vue.js 构建的配置，对于单个配置，它是遵循 Rollup 的构建规则的。
其中 entry 属性表示构建的入口 JS 文件地址，dest 属性表示构建后的 JS 文件地址。
format 属性表示构建的格式，cjs 表示构建出来的文件遵循 CommonJS 规范，
es 表示构建出来的文件遵循 ES Module 规范。 umd 表示构建出来的文件遵循 UMD 规范。*/</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>经过 Rollup 的构建打包后，最终会在 dist 目录下生成 dist/vue.runtime.common.dev.js。</li></ul><h3 id="runtime-only-vs-runtime-compiler-👺" tabindex="-1"><a class="header-anchor" href="#runtime-only-vs-runtime-compiler-👺" aria-hidden="true">#</a> Runtime Only VS Runtime + Compiler 👺</h3><p>vue-cli 去初始化我们的 Vue.js 项目的时候会询问我们用 <code>Runtime Only</code> 版本的还是 <code>Runtime + Compiler</code> 版本。下面我们来对比这两个版本。</p><ul><li><p>Runtime Only: 使用此版本的Vue.js,需借助 webpack 的 vue-loader 工具把 <code>.vue</code>文件编译成 JS, 因为是在编译阶段做的，所以代码体积更轻；</p></li><li><p>Runtime + Compiler：如果没有对代码做预编译，但又使用了 Vue 的 template 属性并传入一个字符串，则需要在客户端编译模板，如下所示：</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// 需要编译器的版本</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">&#39;&lt;div&gt;{{ hi }}&lt;/div&gt;&#39;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 这种情况不需要</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function">render</span> <span class="token punctuation">(</span><span class="token parameter">h</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">h</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>hi<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>Vue2.0中，最终渲染都是通过<code>render</code>函数，若写 template 属性，最终需编译成 render，那么这个编译过程发生运行时，需要带有编译器的版本。所以更推荐<code>Runtime Only</code></p></li></ul><h2 id="根据执行过程分析源码" tabindex="-1"><a class="header-anchor" href="#根据执行过程分析源码" aria-hidden="true">#</a> 根据执行过程分析源码</h2><p>共九步。</p><h3 id="_1-首先编写的是-vue文件" tabindex="-1"><a class="header-anchor" href="#_1-首先编写的是-vue文件" aria-hidden="true">#</a> 1. 首先编写的是<code>.vue</code>文件</h3><h3 id="_2-用-sfc-将-vue-js" tabindex="-1"><a class="header-anchor" href="#_2-用-sfc-将-vue-js" aria-hidden="true">#</a> 2. 用 sfc 将 <code>.vue</code> =&gt; <code>JS</code></h3><ul><li><a href="https://astexplorer.net/" target="_blank" rel="noopener noreferrer">AST Explorer<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>,源码和这个语法一致。</li><li>packages/compiler-sfc/src中, <code>compileScript、compileTemplate、compileStyle</code>方法解析</li></ul><h3 id="_3-compiler用于编译处理" tabindex="-1"><a class="header-anchor" href="#_3-compiler用于编译处理" aria-hidden="true">#</a> 3. <code>compiler</code>用于编译处理</h3><p>全文搜索🐰</p><h3 id="_4-启动项目-初始化应用-new-vue" tabindex="-1"><a class="header-anchor" href="#_4-启动项目-初始化应用-new-vue" aria-hidden="true">#</a> 4. 启动项目，初始化应用，new Vue()</h3><p>（下面需补充）</p><ol start="4"><li>启动项目，初始化应用，new Vue() <ul><li>core/index.ts =&gt; core/global-api:<code>initGlobalAPI</code>: <ul><li>initUse(Vue) - 初始化插件机制 - Vue.use(xxx)</li><li>initMixin(Vue) - Vue.mixin</li><li>initExtend(Vue) - 继承机制 - Vue.extend</li><li>initAssetRegisters(Vue) - vue2中，src/shared/constens.ts将资源(ASSET_TYPES)规定为三类（component、directive、filter），这里初始化是针对这个</li></ul></li></ul></li><li>处理初始化逻辑，包含生命周期、Mixin等内容 <ul><li>core/instance/index.ts</li></ul></li><li>创建对应的<code>vdom</code>,挂载 <ul><li>core/instance/render.ts 挂载 =&gt; <code>creatElement</code> =&gt; core/vdom/create-elemnent.ts - 初始化创建的逻辑</li></ul></li><li>一旦发生更新,即data数据变更，通过监听触发 <ul><li>Vue2源码看老的版本，新版本大部分是Proxy重构；看这<a href="https://github.com/vuejs/vue/blob/1.1/src/observer/array.js" target="_blank" rel="noopener noreferrer">主要逻辑<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li><a href="https://github.com/vuejs/vue/blob/main/src/core/vdom/patch.ts" target="_blank" rel="noopener noreferrer">patch逻辑<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a> - diff算法处理时：🚩<div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">//🚩面试常问：Vue中 :key 的作用:score/vdom/patch.ts的第36行,尤雨溪定义了一个sameVnode方法，</span>
<span class="token comment">//根节点初筛，sameVnode 对key，tag，type等进行简单的判断，通过了就进行具体差异对比, 不通过就新建dom。</span>
<span class="token comment">/*作用总结：Vue响应式系统中，大量源码做性能优化的事情，其中就包含:key，在diff过程中，始终以最以最小代价、
  最大程度去进行节点复用（patch），
  而key就作为我们判断节点是否可以复用的一大标准（除了判断key相同 还有其他判断如💛）。
*/</span>
<span class="token keyword">function</span> <span class="token function">sameVnode</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
 <span class="token keyword">return</span> <span class="token punctuation">(</span>
   a<span class="token punctuation">.</span>key <span class="token operator">===</span> b<span class="token punctuation">.</span>key <span class="token operator">&amp;&amp;</span> <span class="token comment">//key全等 这也是不能用index作为key的原因🚩</span>
   a<span class="token punctuation">.</span>asyncFactory <span class="token operator">===</span> b<span class="token punctuation">.</span>asyncFactory <span class="token operator">&amp;&amp;</span>
   <span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>tag <span class="token operator">===</span> b<span class="token punctuation">.</span>tag <span class="token operator">&amp;&amp;</span><span class="token comment">//💛</span>
     a<span class="token punctuation">.</span>isComment <span class="token operator">===</span> b<span class="token punctuation">.</span>isComment <span class="token operator">&amp;&amp;</span><span class="token comment">//💛</span>
     <span class="token function">isDef</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token function">isDef</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>data<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token comment">//💛</span>
     <span class="token comment">//data保存了元素上的属性 如attrs: { class: &#39;box&#39; }, staticStyle: { color: &#39;red&#39;}等</span>
     <span class="token comment">//isDef作用： 判断值是否被定义</span>
     <span class="token function">sameInputType</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token comment">//input type属性是否相同</span>
     <span class="token punctuation">(</span><span class="token function">isTrue</span><span class="token punctuation">(</span>a<span class="token punctuation">.</span>isAsyncPlaceholder<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isUndef</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>asyncFactory<span class="token punctuation">.</span>error<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
 <span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li>收集依赖</li><li>处理更新diff</li></ol><h2 id="vue2-diff算法" tabindex="-1"><a class="header-anchor" href="#vue2-diff算法" aria-hidden="true">#</a> Vue2 Diff算法</h2><p>diff的目的：尽可能减少 dom 变更（reflow/repaint）,找到可以复用的节点</p><h3 id="双端diff" tabindex="-1"><a class="header-anchor" href="#双端diff" aria-hidden="true">#</a> 双端diff</h3><p>双端比较就是新列表和旧列表两个列表的头与尾互相对比，在对比的过程中指针会逐渐向内靠拢，直到某一个列表的节点全部遍历过，对比停止。</p><h3 id="缺点" tabindex="-1"><a class="header-anchor" href="#缺点" aria-hidden="true">#</a> 缺点</h3><p>Vue2是全量 Diff (当数据发生变化，它就会发生一个DOM树，并和之前的DOM树比较，找到不同的节点然后更新)，如果层级很高，很消耗内存。</p></div></div><footer class="page-meta"><div class="meta-item edit-link"><a class="icon-container left meta-item-label" href="https://github.com/vuepress-reco/vuepress-theme-reco-next/edit/main/example/blogs/category1/2024/0308.md" target="_blank"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:20px;height:20px;font-size:20px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 7H6a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2v-3"></path><path d="M9 15h3l8.5-8.5a1.5 1.5 0 0 0-3-3L9 12v3"></path><path d="M16 5l3 3"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->Edit this page<!--]--></span></a></div><div class="meta-item last-updated"><a class="icon-container left meta-item-label" href="javascript:void(0)" target="_self"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 24 24" style="color:inherit;width:20px;height:20px;font-size:20px;"><g fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M11.795 21H5a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v4"></path><circle cx="18" cy="18" r="4"></circle><path d="M15 3v4"></path><path d="M7 3v4"></path><path d="M3 11h16"></path><path d="M18 16.496V18l1 1"></path></g></svg><span style="color:inherit;font-size:14px;" class="icon-text"><!--[-->Last Updated 2024-03-19 22:55:18<!--]--></span></a></div></footer><!----><!----></main><!--]--><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/category1/2024/0308.html#flow" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="Flow"><!--[--><!--]--> Flow <!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2024/0308.html#是什么" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="是什么"><!--[--><!--]--> 是什么 <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2024/0308.html#使用flow的原因" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="使用flow的原因"><!--[--><!--]--> 使用flow的原因 <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2024/0308.html#flow-在-vue-js-源码中的应用" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="Flow 在 Vue.js 源码中的应用"><!--[--><!--]--> Flow 在 Vue.js 源码中的应用 <!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/category1/2024/0308.html#源码学习思路" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="源码学习思路"><!--[--><!--]--> 源码学习思路 <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/category1/2024/0308.html#vue的目录结构设计" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="Vue的目录结构设计"><!--[--><!--]--> Vue的目录结构设计 <!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2024/0308.html#compiler" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="compiler"><!--[--><!--]--> compiler <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2024/0308.html#core" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="core"><!--[--><!--]--> core <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2024/0308.html#platforms" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="platforms"><!--[--><!--]--> platforms <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2024/0308.html#server" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="server"><!--[--><!--]--> server <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2024/0308.html#sfc" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="sfc"><!--[--><!--]--> sfc <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2024/0308.html#shared" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="shared"><!--[--><!--]--> shared <!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/category1/2024/0308.html#vue源码构建" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="Vue源码构建"><!--[--><!--]--> Vue源码构建 <!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2024/0308.html#构建脚本和过程" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="构建脚本和过程"><!--[--><!--]--> 构建脚本和过程 <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2024/0308.html#runtime-only-vs-runtime-compiler-👺" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="Runtime Only VS Runtime + Compiler 👺"><!--[--><!--]--> Runtime Only VS Runtime + Compiler 👺 <!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/category1/2024/0308.html#根据执行过程分析源码" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="根据执行过程分析源码"><!--[--><!--]--> 根据执行过程分析源码 <!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2024/0308.html#_1-首先编写的是-vue文件" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="1. 首先编写的是.vue文件"><!--[--><!--]--> 1. 首先编写的是.vue文件 <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2024/0308.html#_2-用-sfc-将-vue-js" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="2. 用 sfc 将 .vue =&gt; JS"><!--[--><!--]--> 2. 用 sfc 将 .vue =&gt; JS <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2024/0308.html#_3-compiler用于编译处理" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="3. compiler用于编译处理"><!--[--><!--]--> 3. compiler用于编译处理 <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2024/0308.html#_4-启动项目-初始化应用-new-vue" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="4. 启动项目，初始化应用，new Vue()"><!--[--><!--]--> 4. 启动项目，初始化应用，new Vue() <!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/category1/2024/0308.html#vue2-diff算法" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="Vue2 Diff算法"><!--[--><!--]--> Vue2 Diff算法 <!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2024/0308.html#双端diff" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="双端diff"><!--[--><!--]--> 双端diff <!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/category1/2024/0308.html#缺点" class="router-link-active router-link-exact-active nav-link page-catalog-item" aria-label="缺点"><!--[--><!--]--> 缺点 <!--[--><!--]--></a></li><!--]--><!--]--><!--]--></ul></div></div></div></div><!----><!----><!--]--></div>
    <script type="module" src="/assets/app.efffa192.js" defer></script>
  </body>
</html>
